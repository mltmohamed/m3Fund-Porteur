<div class="notifications-container">
  <div class="page-header">
    <div class="page-title">
      <h1>Notifications</h1>
      <span class="badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
    </div>
    <div class="header-actions">
      <button class="btn-action" *ngIf="unreadCount > 0" (click)="markAllAsRead()">
        <i class="fas fa-check-double"></i>
        Tout marquer comme lu
      </button>
      <button class="btn-action" *ngIf="readCount > 0" (click)="deleteAllRead()">
        <i class="fas fa-trash-alt"></i>
        Supprimer tout lu
      </button>
    </div>
  </div>

  <div class="filters-row">
    <div class="filter-tabs">
      <button 
        class="filter-tab" 
        *ngFor="let option of filterOptions"
        [class.active]="selectedFilter === option.value"
        (click)="selectFilter(option.value)">
        <i [class]="option.icon"></i>
        <span>{{ option.label }}</span>
      </button>
    </div>
    <div class="filter-toggle">
      <label class="toggle-container">
        <input type="checkbox" [(ngModel)]="showOnlyUnread" (change)="toggleUnreadFilter()">
        <span class="toggle-text">Non lues uniquement</span>
      </label>
    </div>
  </div>

  <!-- Liste des notifications -->
  <div class="notifications-list">
    <!-- Message quand aucune notification -->
    <div class="empty-state" *ngIf="filteredNotifications.length === 0">
      <div class="empty-icon">
        <i class="fas fa-bell-slash"></i>
      </div>
      <h3>Aucune notification</h3>
      <p>Vous n'avez aucune notification pour le moment</p>
    </div>

    <!-- Notifications -->
    <div 
      class="notification-item" 
      *ngFor="let notification of filteredNotifications"
      [class.unread]="!notification.read"
      [ngClass]="'type-' + notification.type">
      
      <!-- Indicateur non lu -->
      <div class="unread-indicator" *ngIf="!notification.read"></div>

      <!-- IcÃ´ne -->
      <div class="notification-icon">
        <i [class]="notification.icon"></i>
      </div>

      <!-- Contenu -->
      <div class="notification-content">
        <h3 class="notification-title">{{ notification.title }}</h3>
        <p class="notification-message">{{ notification.message }}</p>
        <div class="notification-footer">
          <span class="notification-time">
            <i class="fas fa-clock"></i>
            {{ getTimeAgo(notification.timestamp) }}
          </span>
          <button 
            class="action-button" 
            *ngIf="notification.actionUrl"
            (click)="handleAction(notification)">
            {{ notification.actionLabel }}
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>

      <!-- Actions -->
      <div class="notification-actions">
        <button 
          class="action-btn" 
          *ngIf="!notification.read"
          (click)="markAsRead(notification)"
          title="Marquer comme lu">
          <i class="fas fa-check"></i>
        </button>
        <button 
          class="action-btn" 
          *ngIf="notification.read"
          (click)="markAsUnread(notification)"
          title="Marquer comme non lu">
          <i class="fas fa-envelope"></i>
        </button>
        <button 
          class="action-btn delete" 
          (click)="deleteNotification(notification)"
          title="Supprimer">
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
    </div>
  </div>
</div>

