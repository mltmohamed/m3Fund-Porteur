<section class="campaigns-section">
  <div class="section-header">
    <h2>Mes campagnes en cours</h2>
    <div class="header-actions">
      <button *ngIf="campaignStats" class="stats-btn" [style.color]="campaignStats.color">
        <i [class]="campaignStats.icon"></i>
        {{ campaignStats.value }} campagnes
      </button>
      <button class="see-all-btn green" (click)="goToCampaigns()">Voir Tout ></button>
    </div>
  </div>

  <!-- État de chargement -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i>
      <p>Chargement des campagnes...</p>
    </div>
  </div>

  <!-- Message d'erreur -->
  <div *ngIf="errorMessage && !isLoading" class="error-message">
    <div class="error-content">
      <span>{{ errorMessage }}</span>
      <button (click)="clearError()" class="close-btn" title="Fermer">×</button>
    </div>
    <button (click)="refreshStats()" class="retry-btn">Réessayer</button>
  </div>
  
  <!-- Message quand aucune campagne -->
  <div *ngIf="!isLoading && !hasCampaigns && !errorMessage" class="no-campaigns">
    <div class="no-campaigns-content">
      <i class="fas fa-bullhorn"></i>
      <h3>Aucune campagne trouvée</h3>
      <p>Il n'y a actuellement aucune campagne à afficher.</p>
      <button (click)="goToCampaigns()" class="create-btn">
        <i class="fas fa-plus"></i>
        Créer une campagne
      </button>
    </div>
  </div>

  <!-- Grille des campagnes réelles -->
  <div class="campaigns-grid" *ngIf="!isLoading && hasCampaigns">
    <div class="campaign-card" *ngFor="let campaign of campaigns">
      <h3>{{ campaign.title }}</h3>
      <div class="campaign-info">
        <span class="amount">{{ campaign.funds }}</span>
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="campaign.progress"></div>
        </div>
        <div class="collaborators">
          <i class="fas fa-users"></i>
          <span>{{ campaign.collaborators }}</span>
        </div>
        <button class="action-btn">
          <i [class]="campaign.typeIcon"></i>
          {{ campaign.type }}
        </button>
        <span class="category-badge" [class]="campaign.sector.toLowerCase()">{{ campaign.sector }}</span>
        <span class="date">Fin: {{ campaign.endDate }}</span>
      </div>
    </div>
  </div>
</section>
